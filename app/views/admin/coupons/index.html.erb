<%= page_title("#{t 'coupons.title'}") do %>
  <%= icon_button_link_to "#{t 'coupons.new'}", new_admin_coupon_path, level: 'primary', icon: 'plus', white: true, class: "fr" %>
<% end %>

<% if @coupons.present? %>
  <table id="coupons" class="table table-striped">
    <tr>
      <th><%= "#{t 'status.title'}" %></th>
      <th>Code</th>
      <th><%= "#{t 'discount'}" %></th>
      <th><%= "#{t 'coupons.orders_count'}" %></th>
      <th></th>
    </tr>
    
    <% @coupons.each do |coupon| %>
      <tr>
        <td><%= status_tag(coupon.active? ? "#{t 'active'}" : "#{t 'inactive'}", level: "#{coupon.active? ? 'success': ''}") %></td>
        <td><%= coupon.code %></td>
        <td><%= coupon %></td>
        <td><%= coupon.orders_count %></td>
        <td><%= icon_button_link_to "#{t 'edit'}", edit_admin_coupon_path(coupon), icon: 'pencil', size: 'small' %></td>
      </tr>
    <% end %>
  </table>

<% else %>
  <div class="alert"><%= t 'coupons.none' %>.</div>
<% end %>